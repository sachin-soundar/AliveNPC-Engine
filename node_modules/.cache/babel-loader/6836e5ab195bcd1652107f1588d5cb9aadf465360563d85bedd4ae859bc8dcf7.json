{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\win10\\\\Documents\\\\GitHub\\\\LiveNPC Engine\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [npcs, setNpcs] = useState([]);\n  const [worldEvents, setWorldEvents] = useState([]);\n  const [currentEventIndex, setCurrentEventIndex] = useState(0);\n  const [isAutoRunning, setIsAutoRunning] = useState(false);\n  const [timerInterval, setTimerInterval] = useState(15);\n  const [customEvent, setCustomEvent] = useState('');\n  const [showConfig, setShowConfig] = useState(false);\n  const [apiConfig, setApiConfig] = useState({\n    apiKey: '',\n    apiUrl: 'https://api.cerebras.ai/v1/chat/completions',\n    modelName: 'qwen-3-coder-480b'\n  });\n  const intervalRef = useRef(null);\n\n  // Load default data on component mount\n  useEffect(() => {\n    loadDefaultData();\n  }, []);\n  const loadDefaultData = async () => {\n    try {\n      // Load NPCs\n      const npcResponse = await fetch('/dataset/npcs_100.json');\n      const npcData = await npcResponse.json();\n      setNpcs(npcData.npcs || []);\n\n      // Load World Events\n      const eventsResponse = await fetch('/world_events.json');\n      const eventsData = await eventsResponse.json();\n      setWorldEvents(eventsData.world_events || []);\n    } catch (error) {\n      console.error('Error loading default data:', error);\n      // Fallback to sample data if files not found\n      loadSampleData();\n    }\n  };\n  const loadSampleData = () => {\n    // Sample NPCs based on the schema\n    const sampleNpcs = [{\n      id: \"stark_001\",\n      name: \"Ser Gareth of House Stark\",\n      house: \"Stark\",\n      age: 34,\n      gender: \"male\",\n      role: \"knight\",\n      traits: {\n        honor: 82,\n        loyalty: 88,\n        intelligence: 65,\n        emotional_intelligence: 70,\n        evil: 12,\n        selflessness: 75,\n        ambition: 35,\n        combat_skill: 80,\n        political_cunning: 45,\n        religious_devotion: 65\n      },\n      relationships: [{\n        npc_id: \"stark_002\",\n        relationship_type: \"family\",\n        strength: 90\n      }, {\n        npc_id: \"stark_015\",\n        relationship_type: \"ally\",\n        strength: 75\n      }],\n      current_behavior: \"Patrolling the borders with quiet determination\",\n      location: \"Winterfell\",\n      status: \"alive\"\n    }];\n    const sampleEvents = [{\n      event_id: 1,\n      title: \"Lord Jon Arryn of House Arryn dies mysteriously\",\n      description: \"The Hand of the King dies suddenly, creating a power vacuum in King's Landing\",\n      political_context: {\n        house_stark: \"Ned Stark of House Stark reluctantly accepts Hand position, honor compels duty to realm\"\n      },\n      cascading_effects: [\"Power vacuum in King's Landing\", \"Stark family travels south\"]\n    }];\n    setNpcs(sampleNpcs);\n    setWorldEvents(sampleEvents);\n  };\n  const updateNPCWithAI = async (npc, event) => {\n    const {\n      apiKey,\n      apiUrl,\n      modelName\n    } = apiConfig;\n    if (!apiKey || apiKey.trim() === '') {\n      console.warn('Cerebras API key not configured. Using fallback simulation.');\n      return simulateNPCUpdate(npc, event);\n    }\n    const prompt = `You are an expert AI agent simulating NPC evolution in a Game of Thrones universe. Update the NPC based on the world event, ensuring changes align with Westerosi lore, politics, and character archetypes. Use the empirical formula: NPC Persona (with current behavior) × World Event = New Behavior + Change in Persona.\n\nNPC Data (JSON schema-compliant):\n${JSON.stringify(npc, null, 2)}\n\nWorld Event:\n${event.title} - ${event.description}\n\nReason step by step:\n1. Assess impact: How does the event affect this NPC's house, role, location, status, traits, and relationships? Factor in traits (e.g., high evil amplifies malice, low loyalty risks defection).\n2. New Behavior: Craft a concise natural language description of updated mood/actions, grounded in lore.\n3. Persona Changes: Adjust traits by -20 to +20 max (subtle shifts); modify relationship strengths by -30 to +30 or add/remove if logical; update location/status only if directly implied.\n4. Consistency: Avoid drastic overhauls—events ripple, not revolutionize. Preserve JSON schema integrity.\n\nOutput ONLY the updated NPC JSON. No extra text.`;\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${apiKey}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: modelName,\n          messages: [{\n            role: \"system\",\n            content: \"You are an expert Game of Thrones NPC simulation engine. Always respond with valid JSON only.\"\n          }, {\n            role: \"user\",\n            content: prompt\n          }],\n          temperature: 0.7,\n          max_completion_tokens: 4000,\n          top_p: 0.8,\n          stream: false\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const responseData = await response.json();\n      const aiResponse = responseData.choices[0].message.content;\n\n      // Parse the AI response as JSON\n      try {\n        const updatedNpc = JSON.parse(aiResponse);\n        // Validate that essential fields are preserved\n        if (updatedNpc.id && updatedNpc.name && updatedNpc.house) {\n          return updatedNpc;\n        } else {\n          throw new Error('Invalid NPC structure returned by AI');\n        }\n      } catch (parseError) {\n        console.error('Failed to parse AI response as JSON:', parseError);\n        console.log('AI Response:', aiResponse);\n        return simulateNPCUpdate(npc, event);\n      }\n    } catch (error) {\n      console.error('Error calling Cerebras API:', error);\n      return simulateNPCUpdate(npc, event);\n    }\n  };\n  const simulateNPCUpdate = (npc, event) => {\n    // Fallback simulation when AI is not available\n    const updatedNpc = {\n      ...npc\n    };\n\n    // Simulate trait changes based on event\n    if (event.title.includes('dies') || event.title.includes('executed')) {\n      updatedNpc.traits.honor = Math.max(0, Math.min(100, updatedNpc.traits.honor + (Math.random() * 20 - 10)));\n      updatedNpc.traits.loyalty = Math.max(0, Math.min(100, updatedNpc.traits.loyalty + (Math.random() * 15 - 5)));\n      updatedNpc.current_behavior = `Reacting to recent tragic events with ${updatedNpc.traits.honor > 70 ? 'righteous anger' : 'calculated caution'}`;\n    } else if (event.title.includes('war') || event.title.includes('battle')) {\n      updatedNpc.traits.ambition = Math.max(0, Math.min(100, updatedNpc.traits.ambition + (Math.random() * 15 - 5)));\n      updatedNpc.current_behavior = `Preparing for the conflicts ahead with ${updatedNpc.traits.ambition > 70 ? 'eager anticipation' : 'cautious planning'}`;\n    } else {\n      updatedNpc.traits.intelligence = Math.max(0, Math.min(100, updatedNpc.traits.intelligence + (Math.random() * 10 - 5)));\n      updatedNpc.current_behavior = `Adapting to changing circumstances with ${updatedNpc.traits.intelligence > 70 ? 'strategic thinking' : 'careful observation'}`;\n    }\n    return updatedNpc;\n  };\n  const processNextEvent = async () => {\n    if (currentEventIndex >= worldEvents.length) {\n      setIsAutoRunning(false);\n      return;\n    }\n    const currentEvent = worldEvents[currentEventIndex];\n    const updatedNpcs = [];\n    for (const npc of npcs) {\n      const updatedNpc = await updateNPCWithAI(npc, currentEvent);\n      updatedNpcs.push(updatedNpc);\n    }\n    setNpcs(updatedNpcs);\n    setCurrentEventIndex(prev => prev + 1);\n  };\n  const startAutoRun = () => {\n    setIsAutoRunning(true);\n    intervalRef.current = setInterval(() => {\n      processNextEvent();\n    }, timerInterval * 1000);\n  };\n  const stopAutoRun = () => {\n    setIsAutoRunning(false);\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  };\n  const sendCustomEvent = async () => {\n    if (!customEvent.trim()) return;\n    const event = {\n      event_id: 999,\n      title: customEvent,\n      description: \"Custom event triggered by user\",\n      political_context: {},\n      cascading_effects: []\n    };\n    const updatedNpcs = [];\n    for (const npc of npcs) {\n      const updatedNpc = await updateNPCWithAI(npc, event);\n      updatedNpcs.push(updatedNpc);\n    }\n    setNpcs(updatedNpcs);\n    setCustomEvent('');\n  };\n  const formatNPCDisplay = npc => {\n    const traits = npc.traits;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"npc-card-compact\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"npc-line-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-id\",\n          children: [\"#\", npc.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-name\",\n          children: npc.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-house\",\n          children: [\"\\uD83C\\uDFE0\", npc.house]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-age\",\n          children: [\"\\uD83D\\uDD1E\", npc.age]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-gender\",\n          children: npc.gender === 'male' ? '👨' : '👩'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-role\",\n          children: [\"\\uD83D\\uDCBC\", npc.role]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"npc-line-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-traits-compact\",\n          children: [\"H:\", traits.honor, \" L:\", traits.loyalty, \" IQ:\", traits.intelligence, \" EQ:\", traits.emotional_intelligence, \" E:\", traits.evil, \" S:\", traits.selflessness, \" A:\", traits.ambition, \" C:\", traits.combat_skill, \" P:\", traits.political_cunning, \" R:\", traits.religious_devotion]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"npc-status\",\n          children: [\"\\uD83D\\uDFE2\", npc.status]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, npc.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"NPC Simulation Arena\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadDefaultData,\n          className: \"load-btn\",\n          children: \"Load World Quest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadDefaultData,\n          className: \"load-btn\",\n          children: \"Load Persona\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowConfig(true),\n          className: \"config-btn\",\n          children: \"\\u2699\\uFE0F AI Engine Config\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), showConfig && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"config-modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"config-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"AI Engine Configuration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"config-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"config-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Cerebras API Key:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: apiConfig.apiKey,\n              onChange: e => setApiConfig({\n                ...apiConfig,\n                apiKey: e.target.value\n              }),\n              placeholder: \"Enter your Cerebras API key\",\n              className: \"config-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"config-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"API URL:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: apiConfig.apiUrl,\n              onChange: e => setApiConfig({\n                ...apiConfig,\n                apiUrl: e.target.value\n              }),\n              className: \"config-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"config-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Model Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: apiConfig.modelName,\n              onChange: e => setApiConfig({\n                ...apiConfig,\n                modelName: e.target.value\n              }),\n              className: \"config-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"qwen-3-coder-480b\",\n                children: \"Qwen 3 Coder 480B (Recommended)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"llama3.1-70b\",\n                children: \"Llama 3.1 70B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"llama3.1-8b\",\n                children: \"Llama 3.1 8B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"qwen2.5-72b\",\n                children: \"Qwen 2.5 72B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"config-status\",\n            children: apiConfig.apiKey ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-connected\",\n              children: \"\\uD83D\\uDFE2 API Key Configured\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-disconnected\",\n              children: \"\\uD83D\\uDD34 API Key Required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"config-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfig(false),\n            className: \"config-save-btn\",\n            children: \"Save & Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfig(false),\n            className: \"config-cancel-btn\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"NPCs (\", npcs.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"npc-list\",\n          children: npcs.map(npc => formatNPCDisplay(npc))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-panel\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"world-events-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"World Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"event-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"timer-controls\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Auto Timer:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: timerInterval,\n                  onChange: e => setTimerInterval(parseInt(e.target.value)),\n                  min: \"5\",\n                  max: \"300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), \" sec\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"control-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (currentEventIndex === 0) {\n                    processNextEvent();\n                  }\n                },\n                className: \"manual-start-btn\",\n                children: \"\\uD83D\\uDE80 Manual Start Event\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), !isAutoRunning ? /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startAutoRun,\n                className: \"start-btn\",\n                children: \"\\u25B6\\uFE0F Auto Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: stopAutoRun,\n                className: \"stop-btn\",\n                children: \"\\u23F8\\uFE0F Pause Auto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: processNextEvent,\n                className: \"next-btn\",\n                children: \"\\u23ED\\uFE0F Next Event\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"custom-event\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Custom event...\",\n                value: customEvent,\n                onChange: e => setCustomEvent(e.target.value),\n                className: \"custom-event-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: sendCustomEvent,\n                className: \"send-btn\",\n                children: \"\\uD83D\\uDCE4 Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"events-stack\",\n            children: worldEvents.map((event, index) => {\n              let statusClass = 'event-pending';\n              if (index < currentEventIndex) {\n                statusClass = 'event-completed';\n              } else if (index === currentEventIndex) {\n                statusClass = 'event-running';\n              }\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `event-card-stack ${statusClass}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"event-number\",\n                    children: [\"#\", event.event_id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 413,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"event-status-indicator\",\n                    children: index < currentEventIndex ? '✅' : index === currentEventIndex ? '🔄' : '⏳'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 414,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-title\",\n                  children: event.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-description\",\n                  children: event.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this)]\n              }, event.event_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"N2yo1MrNcBx1lhJZI+JGGFyYT4I=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","npcs","setNpcs","worldEvents","setWorldEvents","currentEventIndex","setCurrentEventIndex","isAutoRunning","setIsAutoRunning","timerInterval","setTimerInterval","customEvent","setCustomEvent","showConfig","setShowConfig","apiConfig","setApiConfig","apiKey","apiUrl","modelName","intervalRef","loadDefaultData","npcResponse","fetch","npcData","json","eventsResponse","eventsData","world_events","error","console","loadSampleData","sampleNpcs","id","name","house","age","gender","role","traits","honor","loyalty","intelligence","emotional_intelligence","evil","selflessness","ambition","combat_skill","political_cunning","religious_devotion","relationships","npc_id","relationship_type","strength","current_behavior","location","status","sampleEvents","event_id","title","description","political_context","house_stark","cascading_effects","updateNPCWithAI","npc","event","trim","warn","simulateNPCUpdate","prompt","JSON","stringify","response","method","headers","body","model","messages","content","temperature","max_completion_tokens","top_p","stream","ok","Error","responseData","aiResponse","choices","message","updatedNpc","parse","parseError","log","includes","Math","max","min","random","processNextEvent","length","currentEvent","updatedNpcs","push","prev","startAutoRun","current","setInterval","stopAutoRun","clearInterval","sendCustomEvent","formatNPCDisplay","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","value","onChange","e","target","placeholder","map","parseInt","index","statusClass","_c","$RefreshReg$"],"sources":["C:/Users/win10/Documents/GitHub/LiveNPC Engine/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nconst App = () => {\n  const [npcs, setNpcs] = useState([]);\n  const [worldEvents, setWorldEvents] = useState([]);\n  const [currentEventIndex, setCurrentEventIndex] = useState(0);\n  const [isAutoRunning, setIsAutoRunning] = useState(false);\n  const [timerInterval, setTimerInterval] = useState(15);\n  const [customEvent, setCustomEvent] = useState('');\n  const [showConfig, setShowConfig] = useState(false);\n  const [apiConfig, setApiConfig] = useState({\n    apiKey: '',\n    apiUrl: 'https://api.cerebras.ai/v1/chat/completions',\n    modelName: 'qwen-3-coder-480b'\n  });\n  const intervalRef = useRef(null);\n\n  // Load default data on component mount\n  useEffect(() => {\n    loadDefaultData();\n  }, []);\n\n  const loadDefaultData = async () => {\n    try {\n      // Load NPCs\n      const npcResponse = await fetch('/dataset/npcs_100.json');\n      const npcData = await npcResponse.json();\n      setNpcs(npcData.npcs || []);\n\n      // Load World Events\n      const eventsResponse = await fetch('/world_events.json');\n      const eventsData = await eventsResponse.json();\n      setWorldEvents(eventsData.world_events || []);\n    } catch (error) {\n      console.error('Error loading default data:', error);\n      // Fallback to sample data if files not found\n      loadSampleData();\n    }\n  };\n\n  const loadSampleData = () => {\n    // Sample NPCs based on the schema\n    const sampleNpcs = [\n      {\n        id: \"stark_001\",\n        name: \"Ser Gareth of House Stark\",\n        house: \"Stark\",\n        age: 34,\n        gender: \"male\",\n        role: \"knight\",\n        traits: {\n          honor: 82,\n          loyalty: 88,\n          intelligence: 65,\n          emotional_intelligence: 70,\n          evil: 12,\n          selflessness: 75,\n          ambition: 35,\n          combat_skill: 80,\n          political_cunning: 45,\n          religious_devotion: 65\n        },\n        relationships: [\n          { npc_id: \"stark_002\", relationship_type: \"family\", strength: 90 },\n          { npc_id: \"stark_015\", relationship_type: \"ally\", strength: 75 }\n        ],\n        current_behavior: \"Patrolling the borders with quiet determination\",\n        location: \"Winterfell\",\n        status: \"alive\"\n      }\n    ];\n\n    const sampleEvents = [\n      {\n        event_id: 1,\n        title: \"Lord Jon Arryn of House Arryn dies mysteriously\",\n        description: \"The Hand of the King dies suddenly, creating a power vacuum in King's Landing\",\n        political_context: {\n          house_stark: \"Ned Stark of House Stark reluctantly accepts Hand position, honor compels duty to realm\"\n        },\n        cascading_effects: [\"Power vacuum in King's Landing\", \"Stark family travels south\"]\n      }\n    ];\n\n    setNpcs(sampleNpcs);\n    setWorldEvents(sampleEvents);\n  };\n\n  const updateNPCWithAI = async (npc, event) => {\n    const { apiKey, apiUrl, modelName } = apiConfig;\n\n    if (!apiKey || apiKey.trim() === '') {\n      console.warn('Cerebras API key not configured. Using fallback simulation.');\n      return simulateNPCUpdate(npc, event);\n    }\n\n    const prompt = `You are an expert AI agent simulating NPC evolution in a Game of Thrones universe. Update the NPC based on the world event, ensuring changes align with Westerosi lore, politics, and character archetypes. Use the empirical formula: NPC Persona (with current behavior) × World Event = New Behavior + Change in Persona.\n\nNPC Data (JSON schema-compliant):\n${JSON.stringify(npc, null, 2)}\n\nWorld Event:\n${event.title} - ${event.description}\n\nReason step by step:\n1. Assess impact: How does the event affect this NPC's house, role, location, status, traits, and relationships? Factor in traits (e.g., high evil amplifies malice, low loyalty risks defection).\n2. New Behavior: Craft a concise natural language description of updated mood/actions, grounded in lore.\n3. Persona Changes: Adjust traits by -20 to +20 max (subtle shifts); modify relationship strengths by -30 to +30 or add/remove if logical; update location/status only if directly implied.\n4. Consistency: Avoid drastic overhauls—events ripple, not revolutionize. Preserve JSON schema integrity.\n\nOutput ONLY the updated NPC JSON. No extra text.`;\n\n    try {\n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${apiKey}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          model: modelName,\n          messages: [\n            {\n              role: \"system\",\n              content: \"You are an expert Game of Thrones NPC simulation engine. Always respond with valid JSON only.\"\n            },\n            {\n              role: \"user\",\n              content: prompt\n            }\n          ],\n          temperature: 0.7,\n          max_completion_tokens: 4000,\n          top_p: 0.8,\n          stream: false\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const responseData = await response.json();\n      const aiResponse = responseData.choices[0].message.content;\n      \n      // Parse the AI response as JSON\n      try {\n        const updatedNpc = JSON.parse(aiResponse);\n        // Validate that essential fields are preserved\n        if (updatedNpc.id && updatedNpc.name && updatedNpc.house) {\n          return updatedNpc;\n        } else {\n          throw new Error('Invalid NPC structure returned by AI');\n        }\n      } catch (parseError) {\n        console.error('Failed to parse AI response as JSON:', parseError);\n        console.log('AI Response:', aiResponse);\n        return simulateNPCUpdate(npc, event);\n      }\n    } catch (error) {\n      console.error('Error calling Cerebras API:', error);\n      return simulateNPCUpdate(npc, event);\n    }\n  };\n\n  const simulateNPCUpdate = (npc, event) => {\n    // Fallback simulation when AI is not available\n    const updatedNpc = { ...npc };\n    \n    // Simulate trait changes based on event\n    if (event.title.includes('dies') || event.title.includes('executed')) {\n      updatedNpc.traits.honor = Math.max(0, Math.min(100, updatedNpc.traits.honor + (Math.random() * 20 - 10)));\n      updatedNpc.traits.loyalty = Math.max(0, Math.min(100, updatedNpc.traits.loyalty + (Math.random() * 15 - 5)));\n      updatedNpc.current_behavior = `Reacting to recent tragic events with ${updatedNpc.traits.honor > 70 ? 'righteous anger' : 'calculated caution'}`;\n    } else if (event.title.includes('war') || event.title.includes('battle')) {\n      updatedNpc.traits.ambition = Math.max(0, Math.min(100, updatedNpc.traits.ambition + (Math.random() * 15 - 5)));\n      updatedNpc.current_behavior = `Preparing for the conflicts ahead with ${updatedNpc.traits.ambition > 70 ? 'eager anticipation' : 'cautious planning'}`;\n    } else {\n      updatedNpc.traits.intelligence = Math.max(0, Math.min(100, updatedNpc.traits.intelligence + (Math.random() * 10 - 5)));\n      updatedNpc.current_behavior = `Adapting to changing circumstances with ${updatedNpc.traits.intelligence > 70 ? 'strategic thinking' : 'careful observation'}`;\n    }\n\n    return updatedNpc;\n  };\n\n  const processNextEvent = async () => {\n    if (currentEventIndex >= worldEvents.length) {\n      setIsAutoRunning(false);\n      return;\n    }\n\n    const currentEvent = worldEvents[currentEventIndex];\n    const updatedNpcs = [];\n\n    for (const npc of npcs) {\n      const updatedNpc = await updateNPCWithAI(npc, currentEvent);\n      updatedNpcs.push(updatedNpc);\n    }\n\n    setNpcs(updatedNpcs);\n    setCurrentEventIndex(prev => prev + 1);\n  };\n\n  const startAutoRun = () => {\n    setIsAutoRunning(true);\n    intervalRef.current = setInterval(() => {\n      processNextEvent();\n    }, timerInterval * 1000);\n  };\n\n  const stopAutoRun = () => {\n    setIsAutoRunning(false);\n    if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n  };\n\n  const sendCustomEvent = async () => {\n    if (!customEvent.trim()) return;\n\n    const event = {\n      event_id: 999,\n      title: customEvent,\n      description: \"Custom event triggered by user\",\n      political_context: {},\n      cascading_effects: []\n    };\n\n    const updatedNpcs = [];\n    for (const npc of npcs) {\n      const updatedNpc = await updateNPCWithAI(npc, event);\n      updatedNpcs.push(updatedNpc);\n    }\n\n    setNpcs(updatedNpcs);\n    setCustomEvent('');\n  };\n\n  const formatNPCDisplay = (npc) => {\n    const traits = npc.traits;\n    \n    return (\n      <div key={npc.id} className=\"npc-card-compact\">\n        <div className=\"npc-line-1\">\n          <span className=\"npc-id\">#{npc.id}</span>\n          <span className=\"npc-name\">{npc.name}</span>\n          <span className=\"npc-house\">🏠{npc.house}</span>\n          <span className=\"npc-age\">🔞{npc.age}</span>\n          <span className=\"npc-gender\">{npc.gender === 'male' ? '👨' : '👩'}</span>\n          <span className=\"npc-role\">💼{npc.role}</span>\n        </div>\n        <div className=\"npc-line-2\">\n          <span className=\"npc-traits-compact\">\n            H:{traits.honor} L:{traits.loyalty} IQ:{traits.intelligence} EQ:{traits.emotional_intelligence} E:{traits.evil} S:{traits.selflessness} A:{traits.ambition} C:{traits.combat_skill} P:{traits.political_cunning} R:{traits.religious_devotion}\n          </span>\n          <span className=\"npc-status\">🟢{npc.status}</span>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>NPC Simulation Arena</h1>\n        <div className=\"header-buttons\">\n          <button onClick={loadDefaultData} className=\"load-btn\">\n            Load World Quest\n          </button>\n          <button onClick={loadDefaultData} className=\"load-btn\">\n            Load Persona\n          </button>\n          <button onClick={() => setShowConfig(true)} className=\"config-btn\">\n            ⚙️ AI Engine Config\n          </button>\n        </div>\n      </header>\n\n      {showConfig && (\n        <div className=\"config-modal\">\n          <div className=\"config-content\">\n            <h3>AI Engine Configuration</h3>\n            <div className=\"config-form\">\n              <div className=\"config-field\">\n                <label>Cerebras API Key:</label>\n                <input\n                  type=\"password\"\n                  value={apiConfig.apiKey}\n                  onChange={(e) => setApiConfig({...apiConfig, apiKey: e.target.value})}\n                  placeholder=\"Enter your Cerebras API key\"\n                  className=\"config-input\"\n                />\n              </div>\n              <div className=\"config-field\">\n                <label>API URL:</label>\n                <input\n                  type=\"text\"\n                  value={apiConfig.apiUrl}\n                  onChange={(e) => setApiConfig({...apiConfig, apiUrl: e.target.value})}\n                  className=\"config-input\"\n                />\n              </div>\n              <div className=\"config-field\">\n                <label>Model Name:</label>\n                <select\n                  value={apiConfig.modelName}\n                  onChange={(e) => setApiConfig({...apiConfig, modelName: e.target.value})}\n                  className=\"config-select\"\n                >\n                  <option value=\"qwen-3-coder-480b\">Qwen 3 Coder 480B (Recommended)</option>\n                  <option value=\"llama3.1-70b\">Llama 3.1 70B</option>\n                  <option value=\"llama3.1-8b\">Llama 3.1 8B</option>\n                  <option value=\"qwen2.5-72b\">Qwen 2.5 72B</option>\n                </select>\n              </div>\n              <div className=\"config-status\">\n                {apiConfig.apiKey ? (\n                  <span className=\"status-connected\">🟢 API Key Configured</span>\n                ) : (\n                  <span className=\"status-disconnected\">🔴 API Key Required</span>\n                )}\n              </div>\n            </div>\n            <div className=\"config-buttons\">\n              <button onClick={() => setShowConfig(false)} className=\"config-save-btn\">\n                Save & Close\n              </button>\n              <button onClick={() => setShowConfig(false)} className=\"config-cancel-btn\">\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"main-content\">\n        <div className=\"left-panel\">\n          <h2>NPCs ({npcs.length})</h2>\n          <div className=\"npc-list\">\n            {npcs.map(npc => formatNPCDisplay(npc))}\n          </div>\n        </div>\n\n        <div className=\"right-panel\">\n          <div className=\"world-events-section\">\n            <h3>World Events</h3>\n            \n            <div className=\"event-controls\">\n              <div className=\"timer-controls\">\n                <label>\n                  Auto Timer: \n                  <input \n                    type=\"number\" \n                    value={timerInterval} \n                    onChange={(e) => setTimerInterval(parseInt(e.target.value))}\n                    min=\"5\"\n                    max=\"300\"\n                  /> sec\n                </label>\n              </div>\n              \n              <div className=\"control-buttons\">\n                <button onClick={() => {\n                  if (currentEventIndex === 0) {\n                    processNextEvent();\n                  }\n                }} className=\"manual-start-btn\">\n                  🚀 Manual Start Event\n                </button>\n                \n                {!isAutoRunning ? (\n                  <button onClick={startAutoRun} className=\"start-btn\">\n                    ▶️ Auto Events\n                  </button>\n                ) : (\n                  <button onClick={stopAutoRun} className=\"stop-btn\">\n                    ⏸️ Pause Auto\n                  </button>\n                )}\n                \n                <button onClick={processNextEvent} className=\"next-btn\">\n                  ⏭️ Next Event\n                </button>\n              </div>\n              \n              <div className=\"custom-event\">\n                <input \n                  type=\"text\" \n                  placeholder=\"Custom event...\"\n                  value={customEvent}\n                  onChange={(e) => setCustomEvent(e.target.value)}\n                  className=\"custom-event-input\"\n                />\n                <button onClick={sendCustomEvent} className=\"send-btn\">\n                  📤 Send\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"events-stack\">\n              {worldEvents.map((event, index) => {\n                let statusClass = 'event-pending';\n                if (index < currentEventIndex) {\n                  statusClass = 'event-completed';\n                } else if (index === currentEventIndex) {\n                  statusClass = 'event-running';\n                }\n                \n                return (\n                  <div key={event.event_id} className={`event-card-stack ${statusClass}`}>\n                    <div className=\"event-header\">\n                      <span className=\"event-number\">#{event.event_id}</span>\n                      <span className=\"event-status-indicator\">\n                        {index < currentEventIndex ? '✅' : index === currentEventIndex ? '🔄' : '⏳'}\n                      </span>\n                    </div>\n                    <div className=\"event-title\">{event.title}</div>\n                    <div className=\"event-description\">{event.description}</div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}